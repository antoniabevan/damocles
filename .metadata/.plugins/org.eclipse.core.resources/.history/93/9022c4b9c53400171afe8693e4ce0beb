module model_comparison

    implicit none

    type obs_profile
        integer          :: n_data
        real,allocatable :: vel(:)
        real,allocatable :: flux(:)
    end type

    type(obs_profile) obs_data

contains

    subroutine read_in_data()

        open(55,file=data_file)
        read(55,*) obs_data%n_data

        allocate(obs_data%vel(obs_data%n_data))
        allocate(obs_data%flux(obs_data%n_data))

        do ii = 1,obs_data%n_data
            read(55,*) obs_data%vel(ii),obs_data%flux(ii)
        end do

    end subroutine

    subroutine calculate_likelihood(chi_sq)

        real   ::  chi_sq                  !measure of goodness of fit of model to data


    !modelled line profile looks as
    !nu_grid%lambda_bin(ii),nu_grid%vel_bin(ii),line%initial_energy*profile_array(ii)


    end subroutine


end module model_comparison
